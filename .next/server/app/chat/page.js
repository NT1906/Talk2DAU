(()=>{var e={};e.id=457,e.ids=[457],e.modules={440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(1658);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1135:()=>{},1216:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},1488:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3574:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>P});var s=r(687),n=r(6001),i=r(3210),a=r(2157),o=r(2789),l=r(2743),d=r(1279),c=r(8171),u=r(2582);class h extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,c.s)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function p({children:e,isPresent:t,anchorX:r}){let n=(0,i.useId)(),a=(0,i.useRef)(null),o=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=(0,i.useContext)(u.Q);return(0,i.useInsertionEffect)(()=>{let{width:e,height:s,top:i,left:d,right:c}=o.current;if(t||!a.current||!e||!s)return;let u="left"===r?`left: ${d}`:`right: ${c}`;a.current.dataset.motionPopId=n;let h=document.createElement("style");return l&&(h.nonce=l),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            ${u}px !important;
            top: ${i}px !important;
          }
        `),()=>{document.head.contains(h)&&document.head.removeChild(h)}},[t]),(0,s.jsx)(h,{isPresent:t,childRef:a,sizeRef:o,children:i.cloneElement(e,{ref:a})})}let x=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:l,mode:c,anchorX:u})=>{let h=(0,o.M)(m),x=(0,i.useId)(),f=!0,b=(0,i.useMemo)(()=>(f=!1,{id:x,initial:t,isPresent:r,custom:a,onExitComplete:e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;n&&n()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[r,h,n]);return l&&f&&(b={...b}),(0,i.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[r]),i.useEffect(()=>{r||h.size||!n||n()},[r]),"popLayout"===c&&(e=(0,s.jsx)(p,{isPresent:r,anchorX:u,children:e})),(0,s.jsx)(d.t.Provider,{value:b,children:e})};function m(){return new Map}var f=r(6044);let b=e=>e.key||"";function v(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}let g=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:d=!0,mode:c="sync",propagate:u=!1,anchorX:h="left"})=>{let[p,m]=(0,f.xQ)(u),g=(0,i.useMemo)(()=>v(e),[e]),y=u&&!p?[]:g.map(b),w=(0,i.useRef)(!0),j=(0,i.useRef)(g),P=(0,o.M)(()=>new Map),[k,N]=(0,i.useState)(g),[C,A]=(0,i.useState)(g);(0,l.E)(()=>{w.current=!1,j.current=g;for(let e=0;e<C.length;e++){let t=b(C[e]);y.includes(t)?P.delete(t):!0!==P.get(t)&&P.set(t,!1)}},[C,y.length,y.join("-")]);let T=[];if(g!==k){let e=[...g];for(let t=0;t<C.length;t++){let r=C[t],s=b(r);y.includes(s)||(e.splice(t,0,r),T.push(r))}return"wait"===c&&T.length&&(e=T),A(v(e)),N(g),null}let{forceRender:E}=(0,i.useContext)(a.L);return(0,s.jsx)(s.Fragment,{children:C.map(e=>{let i=b(e),a=(!u||!!p)&&(g===C||y.includes(i));return(0,s.jsx)(x,{isPresent:a,initial:(!w.current||!!r)&&void 0,custom:t,presenceAffectsLayout:d,mode:c,onExitComplete:a?void 0:()=>{if(!P.has(i))return;P.set(i,!0);let e=!0;P.forEach(t=>{t||(e=!1)}),e&&(E?.(),A(j.current),u&&m?.(),n&&n())},anchorX:h,children:e},i)})})};var y=r(474),w=r(5814),j=r.n(w);function P(){let[e,t]=(0,i.useState)([]),[r,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),[d,c]=(0,i.useState)(!1),u=(0,i.useRef)(null),h=(0,i.useRef)(null),p=async()=>{c(!0);try{let e=await fetch("http://localhost:8000/api/reprocess",{method:"POST"});if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);await e.json(),t(e=>[...e,{id:e.length+1,text:"Documents have been reprocessed successfully! You can now ask questions about the new content.",sender:"ai"}])}catch(e){console.error("Error reprocessing documents:",e),t(e=>[...e,{id:e.length+1,text:"Sorry, there was an error reprocessing the documents. Please try again.",sender:"ai"}])}finally{c(!1)}},x=async()=>{if(r.trim()){l(!0);try{let e=await fetch("http://localhost:8000/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:r})});if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let s=await e.json();t(e=>[...e,{id:e.length+1,text:r,sender:"user"}]),t(e=>[...e,{id:e.length+1,text:s.response,sender:"ai"}]),a(""),h.current?.focus()}catch(e){console.error("Error sending message:",e),t(e=>[...e,{id:e.length+1,text:"Sorry, I encountered an error. Please try again.",sender:"ai"}])}finally{l(!1)}}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-[#0f172a] via-[#1e293b] to-[#0f172a] flex flex-col relative overflow-x-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[(0,s.jsx)("div",{className:"absolute -top-32 -left-32 w-[600px] h-[600px] rounded-full bg-gradient-to-br from-blue-900/40 to-violet-900/10 blur-3xl"}),(0,s.jsx)("div",{className:"absolute top-1/2 right-0 w-[400px] h-[400px] rounded-full bg-gradient-to-tr from-cyan-900/30 to-blue-500/10 blur-2xl"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-1/2 w-[500px] h-[300px] rounded-full bg-gradient-to-tl from-indigo-900/30 to-blue-900/10 blur-2xl"})]}),(0,s.jsxs)("nav",{className:"relative z-10 flex items-center justify-between max-w-7xl mx-auto w-full px-6 py-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(j(),{href:"/",children:(0,s.jsx)("div",{className:"relative w-14 h-14 cursor-pointer",children:(0,s.jsx)(y.default,{src:"/image.png",alt:"DAU Logo",fill:!0,className:"object-contain",priority:!0})})}),(0,s.jsx)("span",{className:"text-2xl font-bold text-white tracking-tight",children:"Talk 2 DAU"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)(n.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:p,disabled:d,className:"bg-blue-500 hover:bg-blue-600 text-white font-semibold px-4 py-2 rounded-full shadow transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[(0,s.jsx)("span",{children:"Reprocess Documents"}),d&&(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})]}),(0,s.jsx)(j(),{href:"https://github.com/NT1906/Talk2DAU.git",target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)(n.P.div,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"text-gray-300 hover:text-blue-400 transition-colors",children:(0,s.jsx)("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})})})]})]}),(0,s.jsx)("main",{className:"relative z-10 flex flex-1 flex-col items-center justify-center px-4 py-8",children:(0,s.jsxs)(n.P.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-2xl mx-auto rounded-3xl bg-white/5 backdrop-blur-xl border border-white/10 shadow-2xl px-0 py-0 flex flex-col items-center",children:[(0,s.jsxs)("div",{className:"flex-1 w-full overflow-y-auto px-6 pt-8 pb-32 space-y-4",style:{minHeight:"400px",maxHeight:"60vh"},children:[(0,s.jsx)(g,{children:e.map(e=>(0,s.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`flex ${"user"===e.sender?"justify-end":"justify-start"}`,children:(0,s.jsx)("div",{className:`max-w-[75%] px-5 py-3 rounded-2xl shadow-md text-base md:text-lg font-medium transition-all
                      ${"user"===e.sender?"bg-gradient-to-br from-blue-500/90 to-blue-600/80 text-white rounded-br-md":"bg-white/10 text-blue-100 border border-blue-400/10 rounded-bl-md backdrop-blur-sm"}
                    `,children:e.text})},e.id))}),o&&(0,s.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:(0,s.jsxs)("div",{className:"bg-white/10 text-blue-100 rounded-2xl px-5 py-3 border border-blue-400/10 shadow-md flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce"}),(0,s.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce delay-100"}),(0,s.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce delay-200"})]})}),(0,s.jsx)("div",{ref:u})]}),(0,s.jsx)("form",{className:"absolute left-0 right-0 bottom-0 px-6 pb-8",onSubmit:e=>{e.preventDefault(),x()},autoComplete:"off",children:(0,s.jsxs)("div",{className:"flex items-center w-full bg-white/10 backdrop-blur-xl border border-white/10 rounded-full shadow-lg px-4 py-3 space-x-4",children:[(0,s.jsx)("input",{ref:h,type:"text",value:r,onChange:e=>a(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),x())},placeholder:"Type your message...",disabled:o,className:"flex-1 bg-transparent outline-none border-none text-white placeholder-gray-300 text-lg px-2"}),(0,s.jsxs)(n.P.button,{type:"submit",whileHover:{scale:1.04},whileTap:{scale:.97},disabled:o||!r.trim(),className:"bg-blue-500 hover:bg-blue-600 text-white font-semibold px-6 py-2 rounded-full shadow transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[(0,s.jsx)("span",{children:"Send"}),o?(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})})]})})]})}},3873:e=>{"use strict";e.exports=require("path")},4431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>l});var s=r(7413),n=r(2202),i=r.n(n),a=r(4988),o=r.n(a);r(1135);let l={title:"Talk 2 DAU",description:"A platform for AI-powered conversations with DAU"};function d({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${i().variable} ${o().variable} antialiased`,children:e})})}},5081:()=>{},8233:()=>{},8483:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=r(5239),n=r(8088),i=r(8170),a=r.n(i),o=r(893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["chat",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8973)),"/Users/avaish/Desktop/Talk2DAU/src/app/chat/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,4431)),"/Users/avaish/Desktop/Talk2DAU/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/avaish/Desktop/Talk2DAU/src/app/chat/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/chat/page",pathname:"/chat",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8973:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/avaish/Desktop/Talk2DAU/src/app/chat/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/avaish/Desktop/Talk2DAU/src/app/chat/page.tsx","default")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")},9583:(e,t,r)=>{Promise.resolve().then(r.bind(r,8973))},9831:(e,t,r)=>{Promise.resolve().then(r.bind(r,3574))}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,169,562],()=>r(8483));module.exports=s})();